<!DOCTYPE html>
<br />
<div class="row">
    <div class="col-md-3">
        <div class="form-control label-warning pull-right"><span translate>LABEL_NUMBER_OF_VIOLATIONS</span>: <span ng-bind="violationData.NoOfViolations"></span></div>
        <div class="form-control label-warning pull-right fon"><span translate>LABEL_TOTAL_AMOUNT_DUE</span>: $<span ng-bind="violationData.TotalAmount | number : 2"></span></div>
    </div>
    <div class="col-md-4">
        <div class="form-control label-primary"><font color="white"><span translate>LABEL_PAYMENT_AMOUNT</span>: $<span ng-bind="paymentTotal"></span></font></div>
        <div class="btn-group" data-toggle="buttons">
            <div class="form-group">
                <div class="radio">
                    <label ng-click="paymentMethod='ck'">
                        <input type="radio" name="paymentMethod" value="ck" ng-model="paymentMethod">
                        <span translate>LABEL_BANK_ACCOUNT_CHECK</span>
                    </label>
                    <label style="margin-left:15px;" ng-click="paymentMethod='cc'">
                        <input type="radio" name="paymentMethod" value="cc" ng-model="paymentMethod">
                        <span translate>LABEL_CREDIT_DEBIT</span>
                    </label>
                    <a ng-disabled="paymentTotal == '0.00' || !paymentMethod" ng-click="getPaymentUrl()" role="button" class="btn btn-primary" style="margin-left:25px;" data-toggle="modal">
                        <span translate>LABEL_PAY</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-5">
        <span translate>CONTENT_NOTICES_INFO</span>
    </div>
</div>
<br />
<div id="tableWrapper">
    <table class="table table-striped table-hover data-table">
        <thead>
            <tr>
                <th></th>
                <th></th>
                <th translate="LABEL_NOTICE_NUMBER"></th>
                <th translate="LABEL_LICENCE_PLATE">License Plate</th>
                <th translate="LABEL_DATE">Date</th>
                <th translate="LABEL_STATUS">Status</th>
                <th translate="LABEL_TOLL">Toll</th>
                <th translate="LABEL_INITIAL_NOTICE_FEE">Initial Notice Fee</th>
                <th translate="LABEL_TOLL_VIOLATION_FEE">Toll Violation Fee</th>
                <th translate="LABEL_FINAL_NOTICE_FEE">Final Notice Fee</th>
                <th translate="LABEL_NSF_FEE">NSFFee</th>
                <th translate="LABEL_COURT_FEE">Court Fee</th>
                <th translate="LABEL_ADMIN_FEE">Admin Fee</th>
                <th translate="LABEL_AMOUNT_DUE">Amount Due</th>
                <th translate="LABEL_STATEMENT">Statement</th>
                <th translate="LABEL_APPEAL_VIOLATION">Appeal Violation</th>
                <th></th>
            </tr>
        </thead>
        <tbody ng-repeat="item in violationData.Violations | orderBy:sortingOrder:reverse">
            <tr ng-class="{selected: item.NoticeNumber == idSelected}">
                <td>
                    <input type="checkbox"
                           class="checkbox"
                           name="selectedItems[]"
                           value="{{item}}"
                           ng-checked="selection.indexOf(item) > -1"
                           ng-hide="item.Payable==='0'"
                           ng-disabled="item.Payable==='0'"
                           ng-click="toggleSelection($event, item)">
                </td>
                <td ng-click="toggleExpand(item)">
                    <i ng-if="item.TrxnDetail && item.NoticeNumber != idSelected" class="fa fa-plus" aria-hidden="true"></i>
                    <!--<i ng-if="item.TrxnDetail && item.NoticeNumber == idSelected" class="fa fa-minus" aria-hidden="true"></i>-->
                </td>
                <td ng-bind="item.NoticeNumber" ng-click="toggleExpand(item)"></td>
                <td ng-bind="item.LicensePlate" ng-click="toggleExpand(item)"></td>
                <td ng-bind="item.Date" ng-click="toggleExpand(item)"></td>
                <td ng-bind="item.Status" ng-click="toggleExpand(item)"></td>
                <td ng-bind="item.Toll" ng-click="toggleExpand(item)"></td>
                <td ng-bind="item.InitialNoticeFee" ng-click="toggleExpand(item)"></td>
                <td ng-bind="item.TollViolationFee" ng-click="toggleExpand(item)"></td>
                <td ng-bind="item.FinalNoticeFee" ng-click="toggleExpand(item)"></td>
                <td ng-bind="item.NSFFee" ng-click="toggleExpand(item)"></td>
                <td ng-bind="item.CourtFee" ng-click="toggleExpand(item)"></td>
                <td ng-bind="item.AdminFee" ng-click="toggleExpand(item)"></td>
                <td ng-bind="item.AmountDue" ng-click="toggleExpand(item)"></td>
                <td><a class="menu_links" ng-click="getNoticePdf(item.TVNLetter)" translate="LABEL_DOWNLOAD"></a></td>
                <td><a class="menu_links" ng-hide="item.Payable==='0'" ng-disabled="item.Payable==='0'" ng-click="disputeNotice(item)" translate="LABEL_APPEAL"></a></td>
                <td ng-bind="item.Description_" style="color:red" ng-click="toggleSelection($event, item)"></td>
            </tr>
            <tr ng-show="item.NoticeNumber == idSelected && item.TrxnDetail">
                <td colspan="10">
                    <div class="table-small-scrollbar">
                        <table class="table table-condensed table-bordered table-hover trxnDetailtable">
                            <tr>
                                <th translate="LABEL_LANE"></th>
                                <th translate="LABEL_DATE"></th>
                                <th translate="LABEL_TIME"></th>
                                <th translate="LABEL_TRXNNUM"></th>
                                <th translate="LABEL_TOLL"></th>
                                <th></th>
                                <th></th>
                            </tr>
                            <tr ng-repeat="tDetail in item.TrxnDetail">
                                <td ng-bind="tDetail.Lane"></td>
                                <td ng-bind="tDetail.TransactionDate"></td>
                                <td ng-bind="tDetail.TransactionTime"></td>
                                <td ng-bind="tDetail.TrxnNum"></td>
                                <td ng-bind="tDetail.TollAmount | currency"></td>
                                <td><button ng-show="tDetail.Image1!=null" ng-click="openImage(tDetail.Image1)"><i class="fa fa-picture-o"></i></button></td>
                                <td><button ng-show="tDetail.Image2!=null" ng-click="openImage(tDetail.Image2)"><i class="fa fa-picture-o"></i></button></td>
                            </tr>
                        </table>
                    </div>
                </td>
            </tr>
        </tbody>
        <!--<tr></tr>-->
    </table>
</div>